<!--pages/term/term02/term02.wxml-->
<view class="side-bar-wrapper">
  <t-side-bar value="{{sideBarIndex}}" bind:change="onSideBarChange">
    <t-side-bar-item
      wx:for="{{categories}}"
      wx:key="index"
      value="{{item.value || index}}"
      label="{{item.label}}"
      icon="{{item.icon}}"
      badge-props="{{item.badgeProps}}"
    />
  </t-side-bar>
  <scroll-view class="content" scroll-y scroll-with-animation scroll-top="{{scrollTop}}" bind:scroll="onScroll">
    <view wx:for="{{categories}}" wx:key="index" class="section">
      <view class="title">{{item.title || item.label}}</view>
      <!-- 设置 column 属性为 3，表示每行显示三个图标 -->
      <t-grid column="{{3}}" border="{{false}}">
        <block wx:for="{{item.items}}" wx:key="index" wx:for-item="cargo">
          <t-grid-item
            text="{{cargo.label}}"
            image="{{cargo.image}}" 
            image-props="{{ { shape: 'round', lazy: true } }}" 
            bindtap="checkLocation"
            data-url="{{cargo.url}}"
            data-label="{{cargo.label}}"
          >
          </t-grid-item>
        </block>
      </t-grid>
    </view>
  </scroll-view>
  <t-dialog
    visible="{{showDialog}}"
    title="提示"
    content="记得打开定位~"
    confirm-btn="我已打开"
    bind:confirm="jumpToPage"
  ></t-dialog>
  <!-- bind:tap="jumpToPage" -->
  <!-- confirm-text="我已打开" -->
  <!-- show="{{showDialog}}" 改成了visible -->
</view>

<!-- <view class="side-bar-wrapper">
  <t-side-bar value="{{sideBarIndex}}" bind:change="onSideBarChange">
    <t-side-bar-item
      wx:for="{{categories}}"
      wx:key="index"
      value="{{item.value || index}}"
      label="{{item.label}}"
      icon="{{item.icon}}"
      badge-props="{{item.badgeProps}}"
    />
  </t-side-bar>
  <scroll-view class="content" scroll-y scroll-with-animation scroll-top="{{scrollTop}}" bind:scroll="onScroll">
    <view wx:for="{{categories}}" wx:key="index" class="section">
      <view class="title">{{item.title || item.label}}</view>
      <t-grid column="{{3}}" border="{{false}}">
        <block wx:for="{{item.items}}" wx:key="index" wx:for-item="cargo">
          <t-grid-item
            text="{{cargo.label}}"
            image="{{cargo.image}}" 
            image-props="{{ { shape: 'round', lazy: true } }}" 
            data-url="{{cargo.url}}"

            data-label="{{cargo.label}}"
            bindtap="checkLocation"
          > -->
          <!-- bindtap="jumpToPage" --> <!-- 这是之前的判断函数，现在添加条件，先判断是否需要开启定位 -->
          <!-- </t-grid-item>
        </block>
      </t-grid>
    </view>
  </scroll-view>
  <t-dialog
    show="{{showDialog}}"
    title="提示"
    content="请打开定位"
    confirm-text="我已打开"
    bind:confirm="jumpToPage"
  ></t-dialog>
</view> -->

<!-- <view class="side-bar-wrapper">
  <t-side-bar value="{{sideBarIndex}}" bind:change="onSideBarChange">
    <t-side-bar-item
      wx:for="{{categories}}"
      wx:key="index"
      value="{{item.value || index}}"
      label="{{item.label}}"
      icon="{{item.icon}}"
      badge-props="{{item.badgeProps}}"
    />
  </t-side-bar>
  <scroll-view class="content" scroll-y scroll-with-animation scroll-top="{{scrollTop}}" bind:scroll="onScroll">
    <view wx:for="{{categories}}" wx:key="index" class="section">
      <view class="title">{{item.title || item.label}}</view>
      <t-grid column="{{3}}" border="{{false}}">
        <block wx:for="{{item.items}}" wx:key="index" wx:for-item="cargo">
          <t-grid-item
            text="{{cargo.label}}"
            image="{{cargo.image}}"
            image-props="{{ { shape: 'round', lazy: true } }}"
          >
          </t-grid-item>
        </block>
      </t-grid>
    </view>
  </scroll-view>
</view> -->